
# Описание проекта
Этот проект представляет собой веб-приложение для управления задачами, поддерживающее назначение задач на указанные дни недели и фильтрацию задач с помощью строки поиска. В проекте реализована возможность работы с задачами через переменные окружения.

### Описание директорий и файлов
> cmd/
- main.go: основной файл сервера.
___
> internal/
- api/add_task.go: обработчик для добавления задач.
- api/completed_task.go: обработчик для завершённых задач.
- api/delete_task.go: обработчик для удаления задач.
- api/edit_task.go: обработчик для редактирования задач.
- api/nextdate.go: обработчик для получения следующей даты.
- api/upcoming_tasks.go: обработчик для получения предстоящих задач.
___
- config/config.go: Файл с настройками и константами.
___
- db/db.go: Основные функции работы с БД.
___
- scheduler/scheduler.go: бизнес-логика планировщика.
___
> tests/
- app_1_test.go: тест для проверки сервера.
- db_2_test.go: тесты для работы с базой данных.
- nextdate_3_test.go: тесты для правила повторения задач (функции NextDate).
- addtask_4_test.go: тесты для добавления задач. 
- tasks_5_test.go: тесты для списка ближайших задач.
- task_6_test.go: тесты для редактирования задач.
- task_7_test.go: тесты для выполнения/удаления задач.
- settings.go: файл с настройками для тестов.
___
> web/
- css/styles.css: основные стили
- css/theme.css: тематические стили
___
- index.html: главная страница.
- login.html: cтраница входа.
- js/script.min.js: основной скрипт для работы с API.
- js/axios.min.js: минифицированная библиотека Axios.
___
- ./scheduler.db: файл базы данных SQLite.
- ./.env: файл конфигурации с переменными окружения.
- ./go.mod: модульный файл Go
- ./go.mod/go.sum: файл с контрольными суммами зависимостей.
- ./README.md: документация проекта.


### Задачи со звездочкой

- [x] Поддержка переменных окружения: приложение считывает несколько переменных окружения:
- [x] TODO_PORT: порт, на котором запускается веб-сервер (например, 7540).
- [x] TODO_DBFILE: имя файла базы данных (например, scheduler.db).

- [x] Назначение задач на дни недели: задачи могут быть назначены на указанные дни недели (1 — понедельник, 7 — воскресенье).
- [x] Фильтрация задач: есть возможность искать задачи с помощью строки поиска.

### Запуск проекта локально
#### Шаги для запуска:
1. Склонируйте репозиторий:
> git clone <URL вашего репозитория>  
cd <название папки>

2. Настройте файл .env. Пример:
> TODO_PORT="7540"  
TODO_DBFILE="scheduler.db"

3. Запустите приложение из основной директории проекта с помощью Go:
> go run cmd/main.go

4. Откройте браузер и перейдите по адресу:
> http://localhost:7540 (порт задается в .env)

### Дополнительные флаги
- Если необходимо изменить порт, вы можете указать его в переменной окружения TODO_PORT в файле .env.
- База данных по умолчанию берётся из файла scheduler.db, но путь можно изменить через переменную TODO_DBFILE.

### Запуск тестов
Для запуска тестов выполните следующую команду:
> go test ./tests -v

Для очистки кэша перед повторными тестами:
> go clean -testcache

### Параметры для тестов:
В файле tests/settings.go можно настроить параметры тестирования, такие как путь к базе данных или параметры аутентификации.